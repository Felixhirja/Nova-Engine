# Configuration Management Build Script
# Run this to build the config examples

CXX := g++
CXXFLAGS := -std=c++17 -Wall -I.

CONFIG_OBJS := engine/config/ConfigEditor.o engine/SimpleJson.o

# Build ConfigEditor object
engine/config/ConfigEditor.o: engine/config/ConfigEditor.cpp engine/config/ConfigEditor.h
$(CXX) $(CXXFLAGS) -c engine/config/ConfigEditor.cpp -o engine/config/ConfigEditor.o

# Build minimal test
test_config_minimal: tests/test_config_minimal.cpp $(CONFIG_OBJS)
$(CXX) $(CXXFLAGS) tests/test_config_minimal.cpp $(CONFIG_OBJS) -o test_config_minimal.exe

# Build full example
config_example: examples/config_management_example.cpp $(CONFIG_OBJS)
$(CXX) $(CXXFLAGS) examples/config_management_example.cpp $(CONFIG_OBJS) -o config_example.exe

.PHONY: clean
clean:
rm -f *.exe engine/config/*.o

.PHONY: all
all: test_config_minimal config_example
